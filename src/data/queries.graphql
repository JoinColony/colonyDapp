query Task($id: String!) {
  task(id: $id) {
    id
    assignedWorker {
      id
      profile {
        avatarHash
        displayName
        username
        walletAddress
      }
    }
    cancelledAt
    colony {
      id
      colonyAddress
      colonyName
      avatarHash
      displayName
    }
    creator {
      id
      profile {
        avatarHash
        displayName
        username
        walletAddress
      }
    }
    description
    dueDate
    ethDomainId
    ethSkillId
    ethTaskId
    finalizedAt
    title
    workInvites {
      id
      profile {
        avatarHash
        displayName
        username
        walletAddress
      }
    }
    workRequests {
      id
      profile {
        avatarHash
        displayName
        username
        walletAddress
      }
    }
  }
}

query TaskFeedEvents($id: String!) {
  task(id: $id) {
    events {
      context {
        ... on AssignWorkerEvent {
          workerAddress
        }
        ... on CreateDomainEvent {
          ethDomainId
        }
        ... on CreateTaskEvent {
          ethDomainId
        }
        ... on RemoveTaskPayoutEvent {
          amount
          tokenAddress
        }
        ... on SendWorkInviteEvent {
          amount
          tokenAddress
        }
        ... on SetTaskDescriptionEvent {
          description
        }
        ... on SetTaskDomainEvent {
          ethDomainId
        }
        ... on SetTaskDueDateEvent {
          dueDate
        }
        # @todo have `amount` & `tokenAddress` here
        # ... on SetTaskPayoutEvent {

        # }
        ... on SetTaskSkillEvent {
          ethSkillId
        }
        ... on SetTaskTitleEvent {
          title
        }
        ... on TaskMessageEvent {
          message
        }
        ... on UnassignWorkerEvent {
          workerAddress
        }
      }
      createdAt
      initiator {
        id
        profile {
          avatarHash
          displayName
          username
          walletAddress
        }
      }
      sourceId
      sourceType
      type
    }
  }
}

query LoggedInUser {
  loggedInUser @client {
    walletAddress
    balance
    username
  }
}

query User($address: String!) {
  user(address: $address) {
    id
    profile {
      username
      walletAddress
      displayName
      bio
      location
      website
      avatarHash
    }
  }
}

query UserTokens($address: String!) {
  user(address: $address) {
    id
    tokens  
  }
}

query Colony($address: String!) {
  colony(address: $address) {
    id
    colonyAddress
    colonyName
    avatarHash
    description
    displayName
    guideline
    website
    tokens {
      address
      name
      symbol
      iconHash
    }
  }
}

# @TODO we want to get the full tasks in a lot of cases, maybe this isn't needed
query UserTaskIds($address: String!) {
  user(address: $address) {
    id
    tasks {
      id
    }
  }
}

# @TODO we want to get the full tasks in a lot of cases, maybe this isn't needed
query UserColonyIds($address: String!) {
  user(address: $address) {
    id
    colonies {
      id
    }
  }
}

query ColonyTasks($address: String!) {
  colony(address: $address) {
    id
    tasks {
      id
      assignedWorker {
        id
        profile {
          avatarHash
        }
      }
      title
    }
  }
}

query ColonySubscribedUsers($colonyAddress: String!) {
  colony(address: $colonyAddress) {
    id
    subscribedUsers {
      id
      profile {
        avatarHash
        displayName
        username
        walletAddress
      }
    }
  }
}

query Domain($colonyAddress: String!, $ethDomainId: Int!) {
  domain(colonyAddress: $colonyAddress, ethDomainId: $ethDomainId) {
    id
    ethDomainId
    name
    parent {
      ethDomainId
    }
  }
}

query ColonyDomains($colonyAddress: String!) {
  colony(address: $colonyAddress) {
    id
    domains {
      id
      ethDomainId
      name
      parent {
        id
      }
    }
  }
}
